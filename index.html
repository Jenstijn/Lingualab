<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>LinguaLab ‚Äî Vertalen + SRS 2.0</title>
  <meta name="theme-color" content="#0b1021">
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="stylesheet" href="./ll-brazil-ipad-v2.css">
  <style>
    *, *::before, *::after { box-sizing: border-box; }
    textarea, select, input, button { -webkit-appearance: none; appearance: none; background-clip: padding-box; box-sizing: border-box; }
    :root { --bg:#0c0e10; --panel:rgba(255,255,255,0.08); --panel-strong:rgba(255,255,255,0.12);
      --text:#e8ecf1; --muted:#a8b0ba; --hairline:1px solid rgba(255,255,255,0.14);
      --backdrop:blur(18px) saturate(130%); --radius:18px; --shadow: 0 10px 30px rgba(0,0,0,0.25);
      --blue:#60a5fa; --green:#34d399; --orange:#f59e0b; --purple:#a78bfa; }
    @media (prefers-color-scheme: light) {
      :root { --bg:#f6f7fb; --panel:rgba(255,255,255,0.65); --panel-strong:rgba(255,255,255,0.8);
        --text:#0b1520; --muted:#536070; --hairline:1px solid rgba(0,0,0,0.08); --shadow:0 8px 20px rgba(0,0,0,0.12); }
    }
    body{font-family:-apple-system,BlinkMacSystemFont,'SF Pro Text',system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;}
    header { position:sticky; top:0; z-index:10; backdrop-filter:var(--backdrop);
      background:linear-gradient(180deg,rgba(0,0,0,.25),rgba(0,0,0,.05)); border-bottom:var(--hairline);
      padding-top: env(safe-area-inset-top); }
    .wrap { max-width:980px; margin:0 auto; padding:16px; }
    h1 { margin:0; font-size:22px; display:flex; align-items:center; justify-content:space-between; gap:10px; }
    .header-actions { display:flex; gap:8px; flex-wrap:wrap; }
    .btn { border:var(--hairline); background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(255,255,255,.06)); border-radius:14px; padding:8px 10px; cursor:pointer; min-height:36px; color:var(--text); text-decoration:none; }
    .subtitle { color:var(--muted); font-size:13px; margin-top:4px; }
    .grid { display:grid; grid-template-columns:1.05fr .95fr; gap:16px; margin-top:16px; }
    @media (max-width:900px){ .grid{ grid-template-columns:1fr; } }
    .panel { background:var(--panel); border:var(--hairline); border-radius:18px; backdrop-filter:var(--backdrop); padding:14px; box-shadow:var(--shadow); overflow:hidden; }
    textarea, select, button { width:100%; font:inherit; font-size:16px; }
    textarea { background:var(--panel-strong); border:var(--hairline); border-radius:12px; min-height:140px; padding:12px 14px; color:var(--text); }
    .row { display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; }
    .small { font-size:12px; color:var(--muted); }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, 'Liberation Mono', monospace; white-space:pre-wrap; }
    .tags { line-height:2.1; font-size:17px; white-space: normal; word-wrap: break-word; }
    .pill { display:inline-flex; align-items:center; gap:6px; padding:2px 8px; border-radius:999px; border:1px solid rgba(255,255,255,.22); background:var(--panel-strong); margin:2px 2px; }
    .pill.subj { background:rgba(96,165,250,.18); border-color:rgba(96,165,250,.55); }
    .pill.verb { background:rgba(52,211,153,.18); border-color:rgba(52,211,153,.55); }
    .pill.clause { background:rgba(245,158,11,.18); border-color:rgba(245,158,11,.55); }
    .pill.prep { background:rgba(167,139,250,.18); border-color:rgba(167,139,250,.55); }
    .actions { display:flex; gap:8px; flex-wrap:wrap; margin-top:8px; }
    .badge { display:inline-flex; align-items:center; gap:6px; border:var(--hairline); background:var(--panel-strong); border-radius:999px; padding:6px 10px; }
  </style>
</head>
<body>
  <div id="ll-header"></div>
  <script src="./ll-nav.js" defer></script>

  <main class="wrap">
    <div class="grid">
      <section class="panel">
        <h2>üó£Ô∏è Invoer</h2>
        <textarea id="input" placeholder="Typ of dicteer hier‚Ä¶"></textarea>
        <div class="row">
          <select id="source">
            <option value="auto">Detecteer automatisch</option>
            <option value="nl">Nederlands</option>
            <option value="en">Engels</option>
            <option value="pt">Portugees (BR)</option>
          </select>
          <select id="target">
            <option value="pt">Portugees (BR)</option>
            <option value="nl">Nederlands</option>
            <option value="en">Engels</option>
          </select>
        </div>
        <div class="row">
          <label class="small"><input type="checkbox" id="carioca" checked> Carioca/informeel PT-BR</label>
        </div>
        <div class="row">
          <button class="btn" id="btnTranslate">‚ÜîÔ∏è Vertaal & Analyseer</button>
          <button class="btn" id="btnSwap">‚ÜïÔ∏è Wissel talen</button>
          <button class="btn" id="btnClear">üßπ Leeg</button>
        </div>
        <div class="small" id="status"></div>
      </section>

      <section class="panel">
        <h2>üìò Output</h2>
        <div id="output" class="mono">Klaar voor input‚Ä¶</div>
        <div class="actions">
          <button class="btn" id="btnCopy">üîó Kopieer</button>
          <button class="btn" id="btnShare">‚ÜóÔ∏è Deel</button>
          <button class="btn" id="btnSpeak">üîä Voorlezen</button>
          <button class="btn" id="btnSaveFav">‚≠ê Bewaar</button>
          <button class="btn" id="btnSaveCard">üìö Oefenen</button>
        </div>
        <div id="analysis" class="tags" style="margin-top:10px;"></div>
        <div id="notes" class="small" style="margin-top:8px;"></div>
      </section>
    </div>
    <div id="installTip" class="badge" style="margin-top:12px; display:none;">üëâ Tip: zet op je beginscherm via ‚ÄúDeel‚Äù ‚Üí ‚ÄúZet op beginscherm‚Äù.</div>
  </main>

  <!-- Popup for grammar items -->
  <div class="backdrop" id="popBg" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.28);backdrop-filter:blur(2px)"></div>
  <div class="sheet" id="pop" style="display:none;position:fixed;left:50%;bottom:12px;transform:translate(-50%,15px);max-width:92vw;background:var(--panel);border:var(--hairline);border-radius:16px;padding:12px;box-shadow:var(--shadow)">
    <h3 id="popTitle">Uitleg</h3>
    <div id="popText" class="small"></div>
    <div class="pair" style="background:var(--panel-strong);border:var(--hairline);border-radius:10px;padding:8px;margin-top:8px">
      <div class="small">Voorbeeld (NL)</div>
      <div id="popEgNl" class="mono"></div>
    </div>
    <div class="pair" style="background:var(--panel-strong);border:var(--hairline);border-radius:10px;padding:8px;margin-top:8px">
      <div class="small">Voorbeeld (doeltaal)</div>
      <div id="popEgTgt" class="mono"></div>
    </div>
    <div class="row">
      <button class="btn" id="btnUseExample">‚¨áÔ∏è Gebruik voorbeeld in invoer</button>
      <button class="btn" id="btnClosePop">Sluit</button>
    </div>
  </div>

  <!-- jouw bestaande SRS helper -->
  <script src="./srs2.js"></script>
  <!-- alle app-logica staat nu hier: -->
  <script src="./main.js" defer></script>
  <!-- service worker (zoals je had) -->
  <script>
    if ('serviceWorker' in navigator) { navigator.serviceWorker.register('./sw.js').catch(()=>{}); }
  </script>
</body>
</html>
